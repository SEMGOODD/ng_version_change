{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/game.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@fortawesome/angular-fontawesome\";\nconst _c0 = a0 => ({\n  rotated: a0\n});\nconst _c1 = () => [\"fas\", \"question\"];\nexport let MemoryCardComponent = /*#__PURE__*/(() => {\n  class MemoryCardComponent {\n    constructor(gameService) {\n      this.gameService = gameService;\n      // CORRECTION : On initialise avec un tableau vide pour ne pas bloquer la compilation\n      this.icon = [];\n      this.isRotated = false;\n    }\n    ngOnInit() {\n      // C'est le bon endroit pour initialiser avec les Inputs\n      this.icon = [this.type, this.code];\n      this.gameService.getCoveredCards().subscribe(r => r.map(v => this.isRotated = v.id == this.id ? false : this.isRotated));\n    }\n    ngDoCheck() {\n      // Votre logique existante pour mettre à jour l'icône si les inputs changent\n      this.icon = [this.type, this.code];\n    }\n    undo() {\n      this.isRotated = false;\n    }\n    onClick() {\n      if (!this.isRotated) {\n        this.isRotated = true;\n        this.gameService.controlCards({\n          id: this.id,\n          code: this.code,\n          type: this.type\n        });\n      }\n    }\n    static {\n      this.ɵfac = function MemoryCardComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || MemoryCardComponent)(i0.ɵɵdirectiveInject(i1.GameService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MemoryCardComponent,\n        selectors: [[\"memory-card\"]],\n        inputs: {\n          type: \"type\",\n          code: \"code\",\n          id: \"id\"\n        },\n        decls: 6,\n        vars: 6,\n        consts: [[1, \"card\", 3, \"click\", \"ngClass\"], [1, \"card-inner\"], [1, \"front\"], [\"size\", \"3x\", 3, \"icon\"], [1, \"back\"]],\n        template: function MemoryCardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵlistener(\"click\", function MemoryCardComponent_Template_div_click_0_listener() {\n              return ctx.onClick();\n            });\n            i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n            i0.ɵɵelement(3, \"fa-icon\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 4);\n            i0.ɵɵelement(5, \"fa-icon\", 3);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ctx.isRotated));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"icon\", ctx.icon);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"icon\", i0.ɵɵpureFunction0(5, _c1));\n          }\n        },\n        dependencies: [CommonModule, i2.NgClass, FontAwesomeModule, i3.FaIconComponent],\n        styles: [\".card[_ngcontent-%COMP%]{height:100px;width:70px;display:flex;align-items:center;justify-content:center;position:relative;margin:10px}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;backface-visibility:hidden}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#6fb1fc;color:#fff}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#ff9800}.card-inner[_ngcontent-%COMP%]{height:100%;width:100%;box-shadow:0 4px 8px #0003;transition:transform .6s;transform-style:preserve-3d}.rotated[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}\"]\n      });\n    }\n  }\n  return MemoryCardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}